<div class="header">International Education Program Veleri-OI IoT School</div>
<div class="subheader">Case study of the IoT project "Cov protect System"</div>
<div class="flex-row" style="margin-bottom:20px">

  <mat-button-toggle-group [(ngModel)]="route" style="margin-left:20px">
    <mat-button-toggle id="mapLink" value="map" routerLink="/map"><mat-icon >room</mat-icon>
    </mat-button-toggle>
    <mat-button-toggle id="listLink" value="list"routerLink="/meteo-stations"><mat-icon >list</mat-icon></mat-button-toggle>
  </mat-button-toggle-group>
  <div style="margin-left: auto">
    <button
      style="margin-right: 20px; margin-top: 5px; margin-bottom: 5px"
      (click)="onNew()"
      color="accent"
      mat-mini-fab
      matTooltip="Add new meteo station"
      id="newBtn"
    >
      <mat-icon>add</mat-icon>
    </button>
  </div>
</div>
<div *ngIf="meteoStations$ | async as meteoStations" class="map-container">
  <agm-map
    [latitude]="meteoStations[0].geoLocation.latitude"
    [longitude]="meteoStations[0].geoLocation.longitude"
    (mapReady)="mapReadyHandler($event)">

    <agm-marker
      *ngFor="let station of meteoStations"
      [latitude]="station.geoLocation.latitude"
      [longitude]="station.geoLocation.longitude"
      (markerClick)="onClickStation(station)"

    ></agm-marker>
   <!--  <agm-marker [latitude]="dragLatitude" [longitude]="dragLongitude" [markerDraggable]="true"
    (dragEnd)="markerDragEnd($event)"></agm-marker> -->
  </agm-map>
</div>
